<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>iMasteryTracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
  <div class="bg"></div>
  <div class="scrim"></div>

  <header class="w3-bar topbar">
    <div class="w3-bar-item brand">ðŸ§­ iMasteryTracker</div>
    <div class="w3-bar-item w3-right actions">
      <button id="themeToggle" class="w3-button w3-border" aria-label="Toggle theme">Theme</button>
      <button id="exportBtn" class="w3-button w3-border">Export</button>
      <label class="w3-button w3-border">
        Import <input id="importFile" type="file" accept="application/json" hidden>
      </label>
      <button id="newSprintBtn" class="w3-button w3-green">+ New Sprint</button>
    </div>
  </header>

  <main class="w3-container w3-auto">
    <section id="sprints" class="grid"></section>
  </main>

  <footer class="w3-center w3-padding-32 footer">
    <p>Â© 2025 <strong>iMasteryTracker</strong> â€” Built for focus, discipline, and growth.</p>
    <div class="links">
      <a href="https://github.com/34codezak" target="_blank">GitHub</a> |
      <a href="https://34codezak.github.io/p_website/" target="_blank">Portfolio</a>
    </div>
  </footer>

  <!-- Sprint Modal -->
  <dialog id="sprintModal" class="modal">
    <form method="dialog" class="card w3-padding-16" id="sprintForm">
      <h2 id="sprintModalTitle">New Sprint</h2>
      <label>Name
        <input id="sprintName" class="w3-input w3-border w3-round-large" type="text" placeholder="e.g. Week 43 - AI Experiments" required>
      </label>
      <label>Start Date
        <input id="sprintStart" class="w3-input w3-border w3-round-large" type="date" required>
      </label>
      <label>Notes
        <textarea id="sprintNotes" class="w3-input w3-border w3-round-large" rows="3" placeholder="Sprint goals, scope..."></textarea>
      </label>
      <div class="w3-right w3-margin-top">
        <button value="cancel" class="w3-button w3-border" id="cancelModal">Cancel</button>
        <button class="w3-button w3-green" id="saveSprintBtn">Save</button>
      </div>
      <input type="hidden" id="editingSprintId">
    </form>
  </dialog>

  <!-- Delete Modal -->
  <dialog id="deleteModal" class="modal">
    <form method="dialog" class="card w3-padding-16">
      <h3>Confirm Delete</h3>
      <p id="deleteText">Are you sure you want to delete this sprint?</p>
      <div class="w3-right">
        <button value="cancel" class="w3-button w3-border" id="cancelDelete">Cancel</button>
        <button class="w3-button w3-red" id="confirmDelete">Delete</button>
      </div>
    </form>
  </dialog>

  <template id="sprintTpl">
    <article class="sprint card w3-padding-16">
      <header class="sprint__head">
        <div>
          <h3 class="sprint__name"></h3>
          <div class="sprint__meta"></div>
        </div>
        <div class="sprint__controls">
          <button class="w3-button w3-border edit">Edit</button>
          <button class="w3-button w3-red delete">Delete</button>
        </div>
      </header>
      <div class="sprint__progress">
        <svg viewBox="0 0 120 120" class="ring">
          <circle class="bg" cx="60" cy="60" r="54"/>
          <circle class="fg" cx="60" cy="60" r="54"/>
        </svg>
        <div class="ring__label"><span class="pct">0%</span><small>Done</small></div>
      </div>
      <section class="days"></section>
    </article>
  </template>

  <template id="dayTpl">
    <div class="day w3-padding-small w3-round-large">
      <header class="day__head">
        <label><input type="checkbox" class="day__check"/> <span class="day__title"></span></label>
        <time class="day__date"></time>
      </header>
      <textarea class="day__summary w3-input w3-border w3-round-large" placeholder="Your progress for today..."></textarea>
    </div>
  </template>

  <script type="module" src="scripts/main.js"></script>
</body>
</html>
